<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Skill Courses</title>
  <link rel="stylesheet" href="./styles.css">
  
  <!-- Include UI5 library -->
  <!-- Carregar o primeiro script para o projeto "ns.recruitment" -->
<script
src="https://openui5.hana.ondemand.com/resources/sap-ui-core.js"
id="sap-ui-bootstrap"
data-sap-ui-theme="sap_fiori_3"
data-sap-ui-libs="sap.m"
data-sap-ui-compatVersion="edge"
data-sap-ui-async="true"
data-sap-ui-resourceroots='{
  "ns.recruitment": "./"
}'
></script>

<!-- Carregar o segundo script para o projeto "ns.new" -->
<script
id="sap-ui-bootstrap"
src="https://sapui5.hana.ondemand.com/1.117.0/resources/sap-ui-core.js"
data-sap-ui-theme="sap_horizon"
data-sap-ui-resourceroots='{
  "ns.new": "./"
}'
data-sap-ui-oninit="module:sap/ui/core/ComponentSupport"
data-sap-ui-compatVersion="edge"
data-sap-ui-async="true"
data-sap-ui-frameOptions="trusted"
></script>

</head>
<body class="sapUiBody">
  <header>
    <a href="index.html"><img src="https://logos-world.net/wp-content/uploads/2022/01/Aldi-Logo-700x394.png"  alt="Aldi Logo" class="logo"></a>
    <h1>Skill Courses</h1>
  

  </header>

  <div id="skillCoursesContent">
    <h2>Available Courses</h2>
    <a href="/$fiori-preview/RecruitmentService/JobPositions#preview-app&/?sap-iapp-state=TAS8J5YICEHOSB9E52BFWW557F6ITV3SZOD7A54KX">Fiori Preview</a>
    <ul id="coursesList"></ul>
  </div>
  
  <button id="returnButton" class="return-button">Return to Home Page</button>
  
  <script>
    // Load Skill Courses functionality when the page loads
    window.onload = loadSkillCourses;

    // Function to load Skill Courses functionality
    async function loadSkillCourses() {
      // Load Development Courses data
      const response = await fetch('/odata/v4/recruitment/DevelopmentCourses');
      const coursesData = await response.json();
      
      // Create UI5 List control
      const list = new sap.m.List({
        items: coursesData.value.map(course => {
          return new sap.m.StandardListItem({
            title: course.courseName,
            description: `Type: ${course.courseType}`,
            info: course.courseDescription
          });
        })
      });

      // Place the List control into the designated HTML element
      const coursesList = document.getElementById('coursesList');
      list.placeAt(coursesList);
    }

    // Event listener for the return button
    document.getElementById("returnButton").addEventListener("click", function() {
      window.location.href = "JobPositions.html"; // Replace with the correct path
    });
  </script>
</body>
</html>
